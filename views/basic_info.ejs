<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Begin!!</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;600&family=Sacramento&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous" />
    <link rel="stylesheet" href="/css/basicpage.css">
    <link rel="stylesheet" href="/css/plotgraph.css">
</head>

<body>
    <div id="wrapper">
        <div class="overlay"></div>

        <!-- Sidebar -->
        <nav class="navbar navbar-inverse fixed-top" id="sidebar-wrapper" role="navigation">
            <ul class="nav sidebar-nav">
                <div class="sidebar-header">
                    <div class="sidebar-brand">
                        <a href="#">plotify</a>
                    </div>
                </div>
                <li class="align-middle">
                    <a href="#" role="button" data-toggle="modal" data-target="#drop_col" style="width: 80%;">Drop
                        column</a>
                    <a href="https://www.google.com/" style="padding: 12px 2px;float: right;">
                        <span class="fa-stack fa-1x" style="font-size: 1rem;">
                            <i class="far fa-circle fa-stack-2x"></i>
                            <i class="fas fa-info fa-stack-1x fa-inverse" data-toggle="tooltip" data-placement="right"
                                title="Click the icon to learn what it does."></i>
                        </span>
                    </a>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="width: 80%;">Handle Null
                        Values<span class="caret"></span></a>
                    <a href="https://www.google.com/" style="padding: 12px 2px;float: right;">
                        <span class="fa-stack fa-1x" style="font-size: 1rem;">
                            <i class="far fa-circle fa-stack-2x"></i>
                            <i class="fas fa-info fa-stack-1x fa-inverse" data-toggle="tooltip" data-placement="right"
                                title="Click the icon to learn what it does."></i>
                        </span>
                    </a>
                    <ul class="dropdown-menu animated fadeInLeft" role="menu">
                        <li><a href="#" role="button" data-toggle="modal" data-target="#drop_row">Drop rows with null
                                values</a></li>
                        <li><a href="#" role="button" data-toggle="modal" data-target="#fill_na">Fill null values</a>
                        </li>
                    </ul>

                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="width: 80%;">Remove Outliers<span
                            class="caret"></span></a>
                    <a href="https://www.google.com/" style="padding: 12px 2px;float: right;"><span
                            class="fa-stack fa-1x" style="font-size: 1rem;">
                            <i class="far fa-circle fa-stack-2x"></i>
                            <i class="fas fa-info fa-stack-1x fa-inverse" data-toggle="tooltip" data-placement="right"
                                title="Click the icon to learn what it does."></i>
                        </span></a>
                    <ul class="dropdown-menu animated fadeInLeft" role="menu">
                        <li><a href="#" role="button" data-toggle="modal" data-target="#clip_values">Clip values</a>
                        </li>
                        <li><a href="#" role="button" data-toggle="modal" data-target="#drop_outliers">Drop outliers</a>
                        </li>
                    </ul>

                </li>
                <li><a href="#" class="dropdown-toggle" data-toggle="dropdown" style="width: 80%;">Categorical
                        Labelling<span class="caret"></span></a>
                    <a href="https://www.google.com/" style="padding: 12px 2px;float: right;"><span
                            class="fa-stack fa-1x" style="font-size: 1rem;">
                            <i class="far fa-circle fa-stack-2x"></i>
                            <i class="fas fa-info fa-stack-1x fa-inverse" data-toggle="tooltip" data-placement="right"
                                title="Click the icon to learn what it does."></i>
                        </span></a>
                    <ul class="dropdown-menu animated fadeInLeft" role="menu">
                        <li><a href="#" role="button" data-toggle="modal" data-target="#Encoding_Label">Encoding
                                Label</a></li>
                        <li><a href="#" role="button" data-toggle="modal" data-target="#One_Hot_Encoding">One Hot
                                Encoding</a></li>
                        <li><a href="#" role="button" data-toggle="modal" data-target="#Binary_Encoding">Binary
                                Encoding</a></li>
                    </ul>

                </li>
                <li><a href="#" class="dropdown-toggle" data-toggle="dropdown" style="width: 80%;">Normalisation<span class="caret"></span></a>

                    <a href="https://www.google.com/" style="padding: 12px 2px;float: right;"><span
                            class="fa-stack fa-1x" style="font-size: 1rem;">
                            <i class="far fa-circle fa-stack-2x"></i>
                            <i class="fas fa-info fa-stack-1x fa-inverse" data-toggle="tooltip" data-placement="right"
                                title="Click the icon to learn what it does."></i>
                        </span></a>
                    <ul class="dropdown-menu animated fadeInLeft" role="menu">
                        <li><a href="#" role="button" data-toggle="modal" data-target="#Min_Max">Min-Max</a></li>
                        <li><a href="#" role="button" data-toggle="modal" data-target="#Z_Score">Z_Score</a>
                        </li>
                    </ul>

                </li>
                <li><a href="#" class="dropdown-toggle" data-toggle="dropdown" style="width: 80%;">Remove Skewness<span class="caret"></span></a>
                            <a href="https://www.google.com/" style="padding: 12px 2px;float: right;"><span class="fa-stack fa-1x" style="font-size: 1rem;">
                                <i class="far fa-circle fa-stack-2x"></i>
                                <i class="fas fa-info fa-stack-1x fa-inverse" data-toggle="tooltip" data-placement="right" title="Click the icon to learn what it does."></i>
                              </span></a>
                    <ul class="dropdown-menu animated fadeInLeft" role="menu">
                        <li><a href="#" role="button" data-toggle="modal" data-target="#Square_Root">Square_Root</a>
                        </li>
                        <li><a href="#" role="button" data-toggle="modal" data-target="#Cube_Root">Cube_Root</a>
                        </li>
                        <li><a href="#" role="button" data-toggle="modal" data-target="#Log">Log</a></li>
                        <li><a href="#" role="button" data-toggle="modal" data-target="#Square">Square</a></li>
                    </ul>

                </li>
                <li><a href="/pca" role="button" data-toggle="modal" data-target="#pca" style="width: 80%;">Principal
                        Component
                        Analysis</a>
                    <a href="https://www.google.com/" style="padding: 12px 2px;float: right;"><span
                            class="fa-stack fa-1x" style="font-size: 1rem;">
                            <i class="far fa-circle fa-stack-2x"></i>
                            <i class="fas fa-info fa-stack-1x fa-inverse" data-toggle="tooltip" data-placement="right"
                                title="Click the icon to learn what it does."></i>
                        </span></a>
                </li>


            </ul>
        </nav>

        <div id="page-content-wrapper">
            <button type="button" class="hamburger animated fadeInLeft is-closed" data-toggle="offcanvas">
                <span class="hamb-top"></span>
                <span class="hamb-middle"></span>
                <span class="hamb-bottom"></span>
            </button>
            <ul class="tabs" role="tablist">
                <li>
                    <input type="radio" name="tabs" id="tab1" checked />
                    <label for="tab1" role="tab" aria-selected="true" aria-controls="panel1" tabindex="0">Descriptive
                        Statistic</label>
                    <div id="tab-content1" class="tab-content" role="tabpanel" aria-labelledby="description"
                        aria-hidden="false">

                        <div class="row">
                            <div class="col-9">
                                <p class="text-uppercase font-weight-bold"
                                    style="font-size: 20px;color: rgba(0,0,0,0.5);">
                                    Data Shape</p>

                                <p style="display:inline-block;background-color: #eee;"
                                    class="border rounded p-3 ml-4 pt-4 mr-4">
                                    <span
                                        style="font-size: 40px;color: rgba(0,0,0,0.7);"><%= list.shape[0]=='e' ? "0" : list.shape[0]%>
                                    </span>
                                    <span class="text-uppercase" style="color: rgba(0,0,0,0.5);">ROWS</span>
                                </p>
                                <p style="display:inline-block;background-color: #eee;"
                                    class="border rounded p-3 ml-4 pt-4 mr-4">
                                    <span
                                        style="font-size: 40px;color: rgba(0,0,0,0.7);"><%= list.shape[1]=='m' ? "0" : list.shape[1] %></span>
                                    <span class="text-uppercase" style="color: rgba(0,0,0,0.5);">COLUMNS</span>
                                </p>
                            </div>
                            <div class="col-3">
                                <form action="/revert" method="GET">
                                    <% if(fileNo!=0) {%>
                                    <button type="submit" class="revert_button btn btn-lg text-uppercase font-weight-bold"><i class="fas fa-undo"></i>&nbsp;Undo Changes</button>
                                    <% } %>
                                </form>
                            </div>
                        </div>
                        <br>
                        <div>
                            <p class="text-uppercase font-weight-bold" style="font-size: 20px;color: rgba(0,0,0,0.5);">
                                General Information about data</p>

                            <% if(!(list.columns==="empty")){ %>
                            <div class="wrap-table100">
                                <div class="table100 border">
                                    <table>
                                        <thead>
                                            <tr class="table100-head">
                                                <th>columns</th>
                                                <% list.columns.forEach(function(col) { %>
                                                <th><%= col %></th>
                                                <% });  %>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th>dtype</th>
                                                <% list.dtype.forEach(function (dt) { %>
                                                <td><%= dt %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>count</th>
                                                <% list.count.forEach(function (ct) { %>
                                                <td><%= ct %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>Null values</th>
                                                <% list.null_val.forEach(function (nu) { %>
                                                <td><%= nu %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>Null percent</th>
                                                <% list.null_val.forEach(function (nu,i) { %>
                                                <td><%= (nu/(nu+list.count[i]))*100 %> </td>
                                                <% }); %>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <% }else{ %>
                            <div class="jumbotron">
                                <h1 class="display-4">Opps!!!</h1>
                                <p class="lead">You don't have any columns</p>
                            </div>
                            <% } %>
                        </div>

                        <br>
                        <br>
                        <div>
                            <p class="text-uppercase font-weight-bold" style="font-size: 20px;color: rgba(0,0,0,0.5);">
                                statistical description for numerical data</p>
                            <% if (list.numerical == "empty"){ %>
                            <div class="jumbotron">
                                <h1 class="display-4">Opps!!!</h1>
                                <p class="lead">You don't have any Numerical data</p>
                            </div>
                            <% } else{%>
                            <div class="wrap-table100">
                                <div class="table100 border">
                                    <table>
                                        <thead>
                                            <tr class="table100-head">
                                                <th>columns</th>
                                                <% list.numerical.forEach(function(col) { %>
                                                <th><%= col %></th>
                                                <% });  %>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th>mean</th>
                                                <% list.mean.forEach(function (mn) { %>
                                                <td><%= mn %></td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>median</th>
                                                <% list.median.forEach(function (md) { %>
                                                <td><%= md %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>min</th>
                                                <% list.minimum.forEach(function (mn) { %>
                                                <td><%= mn %></td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>max</th>
                                                <% list.maximum.forEach(function (mx) { %>
                                                <td><%= mx %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>standard deviation</th>
                                                <% list.std.forEach(function (st) { %>
                                                <td><%= st %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>25%</th>
                                                <% list.quant25.forEach(function (dt) { %>
                                                <td><%= dt %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>50%</th>
                                                <% list.quant50.forEach(function (dt) { %>
                                                <td><%= dt %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>75%</th>
                                                <% list.quant75.forEach(function (dt) { %>
                                                <td><%= dt %> </td>
                                                <% }); %>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <%}%>
                                            </div>
                                            <br>
                                            <br>
                                            <div>
                                                <p class="text-uppercase font-weight-bold" style="font-size: 20px;color: rgba(0,0,0,0.5);">statistical description for categorical data</p>
                                                <% if (list.categorical == "empty"){ %>
                            <div class="jumbotron">
                                <h1 class="display-4">Opps!!!</h1>
                                <p class="lead">You don't have any Categorical data</p>
                            </div>
                            <% } else{%>
                            <div class="wrap-table100">
                                <div class="table100 border">
                                    <table>
                                        <thead>
                                            <tr class="table100-head">
                                                <th>columns</th>
                                                <% list.categorical.forEach(function(col) { %>
                                                <th><%= col %></th>
                                                <% });  %>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th>unique</th>
                                                <% list.unique.forEach(function (dt) { %>
                                                <td><%= dt %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>top</th>
                                                <% list.top.forEach(function (dt) { %>
                                                <td><%= dt %> </td>
                                                <% }); %>
                                            </tr>
                                            <tr>
                                                <th>frequency</th>
                                                <% list.freq.forEach(function (dt) { %>
                                                <td><%= dt %> </td>
                                                <% }); %>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <%}%>        
                                            </div>                                           
                                        
                        </div>
                </li>

                <li>
                    <input type="radio" name="tabs" id="tab2" />
                    <label for="tab2" id="tabl2" role="tab" aria-selected="false" aria-controls="panel2"
                        tabindex="0">Univariate Graph</label>
                    <div id="tab-content2" class="tab-content" role="tabpanel" aria-labelledby="specification"
                        aria-hidden="true">
                        <%- include('plot_graph.ejs'); %>
                        </div>
                </li>

                <li>
                    <input type="radio" name="tabs" id="tab3" />
                    <label for="tab3" id="tabl3" role="tab" aria-selected="false" aria-controls="panel3"
                        tabindex="0">Multivariate Graph</label>
                    <div id="tab-content3" class="tab-content" role="tabpanel" aria-labelledby="specification"
                        aria-hidden="true">


                        <form id="corrMat">
                            <p class="text-uppercase font-weight-bold" style="font-size: 20px;color: rgba(0,0,0,0.5);">Correlation Matrix</p>
                            <div class="tips">
                                <div class="jumbotron">
                                    <h5 class="text-uppercase"><i class="far fa-hand-point-right"></i> TIPS</h5>
                                    <p>Sign Indication</p>
                                    <ul>
                                        <li>Positive coefficients indicate that when the value of one variable increases, the
                                            value of the other variable also tends to increase.</li><br>
                                        <li>Negative coefficients represent cases when the value of one variable increases, the
                                            value of the other variable tends to decrease.</li>
                                    </ul>
                                    <br>
                                    <br>
                                    <p>Magnitude Indication</p>
                                    <ul>
                                        <li>The extreme values of -1 and 1 indicate a perfectly linear relationship where a
                                            change in one variable is accompanied by a perfectly consistent change in the other.
                                        </li><br>
                                        <li>A coefficient of zero represents no linear relationship. As one variable increases,
                                            there is no tendency in the other variable to either increase or decrease.</li><br>
                                        <li>When the value is in-between 0 and +1/-1, there is a relationship, but the points
                                            donâ€™t all fall on a line. As r approaches -1 or 1, the strength of the relationship
                                            increases and the data points tend to fall closer to a line.</li>
                                    </ul>
                                </div>
                            </div>
                
                            <% if (list.numerical == "empty"){ %>
                            <div class="jumbotron">
                                <h1 class="display-4">Opps!!!</h1>
                                <p class="lead">You don't have any Numerical data</p>
                            </div>
                            <% }else{ %>
                            <div class="row">
                                <div class="col-3">
                                    <div class="select-checkbox">
                                        <p class="text-left">Select the column you want to include in correlation matrix:</p>
                                        <input type="text" class="modal-search-Input bg-light form-control border small"
                                            placeholder="Search for..." title="Type in a name" style="margin: 3px 0;width: 80% !important;">
                                            <ul class="modal-ul border">
                                                <% list.numerical.forEach(function(col,i){ %>
                                                    <li>
                                                        <label for="<%=col%>"><input type="checkbox" name="corrColumn" value="<%=col%>"
                                                                id="<%=col%>" /><span style="padding-left: 10px;"><%=col%></span></label>
                                                    </li>
                                                <% }); %>
                                            </ul>
                                            <label><input type="checkbox" class="selectall" onchange="selectall(this,'corrColumn')" /><span
                                                style="padding-left: 10px;">Select All</span></label>
                                                <button class="btn btn-lg" type="submit" onclick="corrSub(event)">Submit</button>
                                    </div>
                                </div>
                                <div class="col-9 border border-secondary">
                                    <div id="corrGraph" style="width:100%;height:100%;padding: auto;"><div style="text-align: center;vertical-align: middle; height: 100%; width: 100%;"><p style="margin-top: 23%"><i class="far fa-chart-bar fa-6x" style="color: rgba(0,0,0,0.3) !important;"></i></p></div></div>
                                </div>
                            </div>
                            <% } %>
                        </form>


                    </div>
                </li>
                <li>
                    <input type="radio" name="tabs" id="tab4" />
                    <label for="tab4" id="tabl4" role="tab" aria-selected="false" aria-controls="panel4"
                        tabindex="0">View Raw Data</label>
                    <div id="tab-content4" class="tab-content" role="tabpanel" aria-labelledby="specification"
                        aria-hidden="true">
                        <div>
                            <form action="/download" method="GET">
                                <button type="submit" class="btn btn-lg
                                ">Download</button>
                            </form>
                        </div>
                        <% if(list.columns != "empty"){ %>
                        <div class="wrap-table100">
                            <div class="table100 border">
                                <table>
                                    <thead>
                                        <tr class="table100-head">
                                            <% head.forEach(function(col) { %>
                                            <th><%= col %></th>
                                            <% });  %>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% data.forEach(function(row){ %>
                                        <tr>
                                            <% row.forEach(function(ele){ %>
                                            <td><%=ele%></td>
                                            <% }) %>
                                        </tr>
                                        <% }) %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <% }else{ %>
                        <div class="jumbotron">
                            <h1 class="display-4">Opps!!!</h1>
                            <p class="lead">You don't have any Categorical data</p>
                        </div>
                        <% } %>

                    </div>
                </li>
            </ul>
        </div>


    </div>


    </div>



    <!--drop column Modal -->
    <%- include('modals/drop_column.ejs'); %>
    <br>

    <!-- handle null values -->

    <!--fill nan Modal -->
    <%- include('modals/fill_nan.ejs'); %>

    <br>
    <!--drop rows Modal -->
    <%- include('modals/drop_row.ejs'); %>

    <br>



    <!-- remove outliers modal -->

    <!--clip_values Modal -->
    <%- include('modals/clip_values.ejs'); %>

    <!--drop r outlier Modal -->
    <%- include('modals/drop_outliers.ejs'); %>




    <!--Categorical Labelling Modal -->

    <!--Encoding Labels Modal -->
    <%- include('modals/encoding_label.ejs'); %>


    <!--One Hot Encoding Modal -->
    <%- include('modals/one_hot_encoding.ejs'); %>


    <!--Binary Encoding Modal -->
    <%- include('modals/binary_encoding.ejs'); %>



    <!--Normalisation Modal -->

    <!--Min-Max Modal -->
    <%- include('modals/min_max.ejs'); %>

    <!--Z-Score Modal -->
    <%- include('modals/z_score.ejs'); %>


    <!--Skewness Removal Modal -->

    <!--Square-Root Modal -->
    <%- include('modals/square_root.ejs'); %>


    <!--Cube-Root Modal -->
    <%- include('modals/cube_root.ejs'); %>

    <!--Log Modal -->
    <%- include('modals/log.ejs'); %>




    <!--Square Modal -->
    <%- include('modals/square.ejs'); %>



    <!--PCA Modal -->
    <%- include('modals/pca.ejs'); %>




</body>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.11/jquery.csv.min.js"
    integrity="sha512-Y8iWYJDo6HiTo5xtml1g4QqHtl/PO1w+dmUpQfQSOTqKNsMhExfyPN2ncNAe9JuJUSKzwK/b6oaNPop4MXzkwg=="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
</script>
<script>
    let fileName = '<%-fileName%>';
    let shape = '<%-list.shape%>';
    let numericalData = '<%-list.numerical%>';
    let categoricalData = '<%-list.categorical%>';
</script>

<script src="/plotGraph.js"></script>
<script src="/js/basicpage.js"></script>

</html>